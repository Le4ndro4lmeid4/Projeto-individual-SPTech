<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cenas Favoritas</title>
    <link rel="icon" href="../imagens/icon.png" />
    <link rel="stylesheet" href="../styles/cenasfavoritas.css" />
  </head>

  <body>
    <header>
      <nav>
        <ul>
          <li><a href="index.html">In√≠cio</a></li>
          <li><a href="cenasfavoritas.html">Cenas favoritas</a></li>
          <li><a href="login.html" class="login-btn">Login</a></li>
        </ul>
      </nav>
    </header>

    <main id="main">
      <aside class="sidebar">
        <select id="select_livro" onchange="trocarlivro()">
          <option value="1" selected>Livro 1</option>
          <option value="2">Livro 2</option>
          <option value="3">Livro 3</option>
        </select>

        <div id="listaCenas"></div>
      </aside>

      <section class="Cenas-Livro1">
        <div
          class="cena1"
          id="cena1"
          style="background-image: url('../imagens/cenas/aangAcordando.gif')"
        >
          <div class="textoCena" id="textoCena">
            1
          </div>
        </div>
      </section>
    </main>

    <script>
      var titulos = [];
      var imagens = [];
      var textoIndice = [];

      function mostrarCenaPorIndice(indice) {
        cena1.style.opacity = 0;
        textoCena.style.opacity = 0;

        setTimeout(() => {
          cena1.style.backgroundImage = `url('../imagens/${imagens[indice]}')`;
          textoCena.textContent = textoIndice[indice];

          cena1.style.opacity = 1;
          textoCena.style.opacity = 1;
        }, 500);
      }

      function trocarlivro() {
        var livro = select_livro.value;
        var conteudo = "";

        if (livro == "1") {
          textoIndice = ["1", "2", "3", "4"];
          titulos = [
            "Aang acordando",
            "Katara treinando",
            "Sokka irritado",
            "Zuko concentrado",
          ];
          imagens = [
            "aangAcordando.gif",
            "katara.gif",
            "sokka.gif",
            "zuko.gif",
          ];
        } else if (livro == "2") {
          textoIndice = ["5", "6", "7", "8"];
          titulos = ["Toph", "Aang", "teste 1", "teste 2"];
          imagens = ["toph.gif", "aang.gif", "sokka.gif", "zuko.gif"];
        }

        for (var i = 0; i < titulos.length; i++) {
          conteudo += `
        <div class="cena-item" onclick="mostrarCenaPorIndice(${i})">
          <h3>${titulos[i]}</h3>
          <img src="../imagens/${imagens[i]}" alt="${titulos[i]}">
        </div>
      `;
        }

        listaCenas.innerHTML = conteudo;
      }

      window.onload = trocarlivro;
    </script>
  </body>
</html>
